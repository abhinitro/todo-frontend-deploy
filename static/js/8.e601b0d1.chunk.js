(window["webpackJsonpmy-app"]=window["webpackJsonpmy-app"]||[]).push([[8],{436:function(e,t,a){"use strict";a.r(t);var r=a(13),n=a(14),o=a(16),l=a(15),s=a(0),i=a.n(s),c=a(17),u=a(153),d=a(181),p=a(182),m=a(197),g=a(193),h=a(194),f=a(67),b=a(103),v=a(89),y=a(25),w=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handleValidSubmit=function(e,t){console.log(t),n.props.signUserUp({email:t.email,first_name:t.first_name,last_name:t.last_name,password:t.password,contact:t.contact}),console.log("Login Successful",t)},n.handleInvalidSubmit=function(e,t,a){n.setState({email:a.email,error:!0}),console.log("Login failed")},n.state={email:"",first_name:"",last_name:"",password:""},n}return Object(n.a)(a,[{key:"render",value:function(){return i.a.createElement(v.AvForm,{onValidSubmit:this.handleValidSubmit,onInvalidSubmit:this.handleInvalidSubmit},i.a.createElement(v.AvField,{name:"first_name",label:"First Name",type:"text",validate:{required:!0}}),i.a.createElement(v.AvField,{name:"last_name",label:"Last Name",type:"text",validate:{required:!0}}),i.a.createElement(v.AvField,{name:"contact",label:"Contact",type:"text",maxlength:"10",validate:{required:!0,pattern:{value:"^[0-9]+$",errorMessage:"Please type digits only"}}}),i.a.createElement(v.AvField,{name:"email",label:"Email",type:"text",validate:{required:!0,email:!0}}),i.a.createElement(v.AvField,{name:"password",label:"Password",type:"password",validate:{required:{value:!0,errorMessage:"Please enter your password"},pattern:{value:"^[A-Za-z0-9]+$",errorMessage:"Your password must be composed only with letter and numbers"},minLength:{value:6,errorMessage:"Your password must be between 6 and 16 characters"},maxLength:{value:16,errorMessage:"Your password must be between 6 and 16 characters"}}}),i.a.createElement(b.a,{id:"submit"},"Submit"),i.a.createElement("br",null),i.a.createElement(y.b,{to:"/login"},"Back "))}}]),a}(i.a.Component),E=(a(30),function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={},n}return Object(n.a)(a,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(u.a,null,i.a.createElement(d.a,null,i.a.createElement(p.a,null),i.a.createElement(p.a,{lg:"8"},i.a.createElement(m.a,null,i.a.createElement("h3",{class:"form-title"},i.a.createElement("u",null,"Register Form")),i.a.createElement("hr",null),i.a.createElement(g.a,null,i.a.createElement(h.a,null,i.a.createElement(w,this.props))))),i.a.createElement(p.a,null))))}}]),a}(s.Component));t.default=Object(c.b)(null,{signUserUp:f.f})(E)},67:function(e,t,a){"use strict";var r=a(88),n=a.n(r),o=a(24),l=a(10),s={env:"dev",local:{url:"http://localhost:4000/"},dev:{url:"https://cards.myvisage.in/"}},i=s[s.env];a.d(t,"e",(function(){return d})),a.d(t,"f",(function(){return p})),a.d(t,"g",(function(){return m})),a.d(t,"a",(function(){return g})),a.d(t,"d",(function(){return h})),a.d(t,"c",(function(){return f})),a.d(t,"b",(function(){return b}));var c=i.url;n.a.defaults.baseURL=c,localStorage.getItem("auth_jwt_token")?n.a.defaults.headers.common.Authorization="Bearer "+localStorage.getItem("auth_jwt_token"):console.log("Not Getting"),n.a.defaults.headers.post["Content-Type"]="application/json";var u=function(){return{headers:{Authorization:"bearer "+localStorage.getItem("auth_jwt_token")}}};function d(e){return function(t){n.a.post("users/login",e).then((function(e){console.log("response",e.data),t({type:l.b,payload:e.data}),localStorage.setItem("auth_jwt_token",e.data.token),window.location="#/dashboard",n.a.defaults.headers.common.Authorization=localStorage.getItem("auth_jwt_token")})).catch((function(e){console.log("I am here",e),o.b.error("Opps!  Server Error, try later",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0}),t({type:l.a,payload:"Server Error, try later."})}))}}function p(e){return function(t){n.a.post("users/register",e).then((function(e){o.b.info("Success! User is Successfully Created",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0}),window.location="#/login"})).catch((function(e){o.b.error("Opps!  Server Error, try later",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0}),t({type:l.a,payload:"Server Error, try later."})}))}}function m(e){return function(t){n.a.post("todos/update/".concat(e.id),e,u()).then((function(e){return o.b.info("Todos is Successfully Update",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0}),window.location="#/dashboard",e})).catch((function(e){o.b.error("Opps!  Server Error, try later",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0}),t({type:l.a,payload:"Server Error, try later."})}))}}function g(e){return function(t){n.a.post("todos/create",e,u()).then((function(e){o.b.info("Todos is Successfully Created",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0}),window.location="#/dashboard"})).catch((function(e){o.b.error("Opps!  Server Error, try later",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0}),t({type:l.a,payload:"Server Error, try later."})}))}}var h=function(e){return function(e){return n.a.get("todos/index",u()).then((function(t){return console.log("getTo",t),e({type:l.c,payload:t.data}),t})).catch((function(e){return console.log(e.response.data)}))}},f=function(e){return function(t){return n.a.get("todos/getById/".concat(e.id),u()).then((function(e){return console.log("getTo",e),t({type:l.d,payload:e.data}),e})).catch((function(e){return console.log(e.response.data)}))}},b=function(e){return function(t){return n.a.post("todos/delete",e,u()).then((function(e){return e})).catch((function(e){console.log("error",e.response.data)}))}}}}]);
//# sourceMappingURL=8.e601b0d1.chunk.js.map