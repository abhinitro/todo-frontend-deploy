(window["webpackJsonpmy-app"]=window["webpackJsonpmy-app"]||[]).push([[10],{432:function(e,t,o){"use strict";o.r(t);var a=o(13),r=o(14),n=o(16),i=o(15),l=o(0),c=o.n(l),s=o(181),u=o(182),d=o(193),p=o(195),h=o(194),g=o(103),f=o(67),m=o(17),v=o(89),b=function(e){Object(n.a)(o,e);var t=Object(i.a)(o);function o(e){var r;return Object(a.a)(this,o),(r=t.call(this,e)).handleValidSubmit=function(e,t){r.props.updateTodo({title:t.title,description:t.description,date:t.date,id:r.props.match.params.id})},r.state={todo:null},r}return Object(r.a)(o,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;this.props.getById({id:t}).then((function(t){console.log(t,t.data.todo),e.setState({todo:t.data.todo[0]})}))}},{key:"moveBack",value:function(){this.props.history.goBack()}},{key:"render",value:function(){var e=this,t=this.state.todo;return null==t?c.a.createElement("div",null,"NONE"):c.a.createElement("div",{className:"top-margin"},c.a.createElement(s.a,null,c.a.createElement(u.a,{xl:12},c.a.createElement(d.a,null,c.a.createElement(p.a,null,"Create Todo ",c.a.createElement("small",{className:"text-muted"}),c.a.createElement("button",{className:"btn btn-success pull-right",onClick:function(){return e.moveBack()}},"Back")),c.a.createElement(h.a,null,c.a.createElement(v.AvForm,{onValidSubmit:this.handleValidSubmit,onInvalidSubmit:this.handleInvalidSubmit},c.a.createElement(v.AvField,{name:"title",label:"Title",type:"text",value:t.title,validate:{required:!0}}),c.a.createElement(v.AvField,{name:"description",label:"Description",type:"textarea",value:t.description,validate:{required:!0}}),c.a.createElement(v.AvField,{name:"date",label:"Date",type:"date",value:t.date,validate:{required:!0}}),c.a.createElement(g.a,{id:"submit"},"Submit"),c.a.createElement("br",null)))))))}}]),o}(l.Component);t.default=Object(m.b)(null,{getById:f.c,updateTodo:f.g})(b)},67:function(e,t,o){"use strict";var a=o(88),r=o.n(a),n=o(24),i=o(10),l={env:"dev",local:{url:"http://localhost:4000/"},dev:{url:"https://cards.myvisage.in/"}},c=l[l.env];o.d(t,"e",(function(){return d})),o.d(t,"f",(function(){return p})),o.d(t,"g",(function(){return h})),o.d(t,"a",(function(){return g})),o.d(t,"d",(function(){return f})),o.d(t,"c",(function(){return m})),o.d(t,"b",(function(){return v}));var s=c.url;r.a.defaults.baseURL=s,localStorage.getItem("auth_jwt_token")?r.a.defaults.headers.common.Authorization="Bearer "+localStorage.getItem("auth_jwt_token"):console.log("Not Getting"),r.a.defaults.headers.post["Content-Type"]="application/json";var u=function(){return{headers:{Authorization:"bearer "+localStorage.getItem("auth_jwt_token")}}};function d(e){return function(t){r.a.post("users/login",e).then((function(e){console.log("response",e.data),t({type:i.b,payload:e.data}),localStorage.setItem("auth_jwt_token",e.data.token),window.location="#/dashboard",r.a.defaults.headers.common.Authorization=localStorage.getItem("auth_jwt_token")})).catch((function(e){console.log("I am here",e),n.b.error("Opps!  Server Error, try later",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0}),t({type:i.a,payload:"Server Error, try later."})}))}}function p(e){return function(t){r.a.post("users/register",e).then((function(e){n.b.info("Success! User is Successfully Created",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0}),window.location="#/login"})).catch((function(e){n.b.error("Opps!  Server Error, try later",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0}),t({type:i.a,payload:"Server Error, try later."})}))}}function h(e){return function(t){r.a.post("todos/update/".concat(e.id),e,u()).then((function(e){return n.b.info("Todos is Successfully Update",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0}),window.location="#/dashboard",e})).catch((function(e){n.b.error("Opps!  Server Error, try later",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0}),t({type:i.a,payload:"Server Error, try later."})}))}}function g(e){return function(t){r.a.post("todos/create",e,u()).then((function(e){n.b.info("Todos is Successfully Created",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0}),window.location="#/dashboard"})).catch((function(e){n.b.error("Opps!  Server Error, try later",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0}),t({type:i.a,payload:"Server Error, try later."})}))}}var f=function(e){return function(e){return r.a.get("todos/index",u()).then((function(t){return console.log("getTo",t),e({type:i.c,payload:t.data}),t})).catch((function(e){return console.log(e.response.data)}))}},m=function(e){return function(t){return r.a.get("todos/getById/".concat(e.id),u()).then((function(e){return console.log("getTo",e),t({type:i.d,payload:e.data}),e})).catch((function(e){return console.log(e.response.data)}))}},v=function(e){return function(t){return r.a.post("todos/delete",e,u()).then((function(e){return e})).catch((function(e){console.log("error",e.response.data)}))}}}}]);
//# sourceMappingURL=10.6c7b46b8.chunk.js.map